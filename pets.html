<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pet Comparison Calculator</title>
  <link rel="stylesheet" href="index.css">
  <style>
    .gear-box form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      align-items: center;
    }
    .gear-box select {
      max-width: none;
      width: 100%;
    }
    .gear-box {
      width: 350px;
    }
  </style>
  <script src="header.js" defer></script>
</head>
<body>
<div id="header-placeholder"></div>
<div class="container">
  <h1>Pet Comparison Calculator</h1>
        <p>Find out what any pet's max stats will be depending on its potential.<br>
            Use the dropdowns to select the species/rarity, main stat, and 3 sub stats.
            <br>
            Input the potential of the beasts you want to compare. 
            <br>
            The Reset button will clear all fields if you want to start over.
            <br><br> Credit to Tex (s2864) for the data used to make this! <b><a href="./tzupgif.gif">Reference: Diminishing Returns</a></b>
        </p>

  <div class="gear-container">
    <!-- Pet 1 -->
    <div class="gear-box">
      <h2 style="text-align: center;">Pet 1</h2>
      <form>
        <label>Species + Rarity:</label>
        <select id="species1">
          <option value="" disabled selected>Select option</option>
          <option value="gold">Gold Bear</option>
          <option value="purple">Purple Bear</option>
          <option value="gold">Gold Eagle</option>
          <option value="purple">Purple Eagle</option>
          <option value="gold">Gold Deer</option>
          <option value="purple">Purple Deer</option>
          <option value="gold">Gold Ray</option>
          <option value="purple">Purple Ray</option>
        </select>

        <label>Main Stat:</label>
        <select id="mainStat1">
          <option value="" disabled selected>Select option</option>
          <option value="DMGInc">Damage Increase</option>
          <option value="DMGDec">Damage Decrease</option>
          <option value="DEF">Defense</option>
          <option value="ATK">Attack</option>
          <option value="HP">HP</option>
        </select>

        <label>Sub Stat 1:</label>
        <select id="subStat1_1">
          <option value="" disabled selected>Select option</option>
          <option value="Suppression">Suppression Defense Bonus</option>
          <option value="DMGInc">Damage Increase</option>
          <option value="DMGDec">Damage Decrease</option>
          <option value="ATK">Attack</option>
          <option value="HP">HP</option>
          <option value="Elemental">Elemental</option>
        </select>

        <label>Sub Stat 2:</label>
        <select id="subStat1_2">
          <option value="" disabled selected>Select option</option>
          <option value="Suppression">Suppression Defense Bonus</option>
          <option value="DMGInc">Damage Increase</option>
          <option value="DMGDec">Damage Decrease</option>
          <option value="ATK">Attack</option>
          <option value="HP">HP</option>
          <option value="Elemental">Elemental</option>
        </select>

        <label>Sub Stat 3:</label>
        <select id="subStat1_3">
          <option value="" disabled selected>Select option</option>
          <option value="Suppression">Suppression Defense Bonus</option>
          <option value="DMGInc">Damage Increase</option>
          <option value="DMGDec">Damage Decrease</option>
          <option value="ATK">Attack</option>
          <option value="HP">HP</option>
          <option value="Elemental">Elemental</option>
        </select>

        <label>Potential:</label>
        <input type="number" id="potential1" placeholder="e.g. 15000">
      </form>
    </div>

    <!-- Pet 2 -->
    <div class="gear-box">
      <h2 style="text-align: center;">Pet 2</h2>
      <form>
        <label>Species + Rarity:</label>
        <select id="species2">
          <option value="" disabled selected>Select option</option>
          <option value="gold">Gold Bear</option>
          <option value="purple">Purple Bear</option>
          <option value="gold">Gold Eagle</option>
          <option value="purple">Purple Eagle</option>
          <option value="gold">Gold Deer</option>
          <option value="purple">Purple Deer</option>
          <option value="gold">Gold Ray</option>
          <option value="purple">Purple Ray</option>
        </select>

        <label>Main Stat:</label>
        <select id="mainStat2">
          <option value="" disabled selected>Select option</option>
          <option value="DMGInc">Damage Increase</option>
          <option value="DMGDec">Damage Decrease</option>
          <option value="DEF">Defense</option>
          <option value="ATK">Attack</option>
          <option value="HP">HP</option>
        </select>

        <label>Sub Stat 1:</label>
        <select id="subStat2_1">
          <option value="" disabled selected>Select option</option>
          <option value="Suppression">Suppression Defense Bonus</option>
          <option value="DMGInc">Damage Increase</option>
          <option value="DMGDec">Damage Decrease</option>
          <option value="ATK">Attack</option>
          <option value="HP">HP</option>
          <option value="Elemental">Elemental</option>
        </select>

        <label>Sub Stat 2:</label>
        <select id="subStat2_2">
          <option value="" disabled selected>Select option</option>
          <option value="Suppression">Suppression Defense Bonus</option>
          <option value="DMGInc">Damage Increase</option>
          <option value="DMGDec">Damage Decrease</option>
          <option value="ATK">Attack</option>
          <option value="HP">HP</option>
          <option value="Elemental">Elemental</option>
        </select>

        <label>Sub Stat 3:</label>
        <select id="subStat2_3">
          <option value="" disabled selected>Select option</option>
          <option value="Suppression">Suppression Defense Bonus</option>
          <option value="DMGInc">Damage Increase</option>
          <option value="DMGDec">Damage Decrease</option>
          <option value="ATK">Attack</option>
          <option value="HP">HP</option>
          <option value="Elemental">Elemental</option>
        </select>

        <label>Potential:</label>
        <input type="number" id="potential2" placeholder="e.g. 15000">
      </form>
    </div>
  </div>

  <div class="calculate-btn">
    <button onclick="calculate()">Compare</button>
    <button onclick="resetForm()" style="background-color: #FF0000;">Reset</button>
</div>

  <div class="gear-container">
    <div id="comparison-result1" class="gear-box" style="display:none">
      <div id="result1"></div>
    </div>
     <div id="comparison-result2" class="gear-box" style="display:none">
      <div id="result2"></div>
    </div>
  </div>

<script>
  const maxValues = {
    Suppression: 4.4,
    DMGInc: 10,
    DMGDec: 10,
    DEF: 4,
    ATK: 30,
    HP: 30,
    Elemental: 60
  };

  function calculatePet(petNumber) {
    const species = document.getElementById(`species${petNumber}`).value;
    const rarityMultiplier = (species === "gold") ? 1 : 0.92;
    const mainStat = document.getElementById(`mainStat${petNumber}`);
    const mainStatType = mainStat.options[mainStat.selectedIndex].text;
    const potential = parseFloat(document.getElementById(`potential${petNumber}`).value);
    const potentialRatio = potential / 16000;
    const mainY = maxValues[mainStat.value];
    const mainMax = potentialRatio * mainY;

    const subStats = [];
    for (let i = 1; i <= 3; i++) {
      const t = document.getElementById(`subStat${petNumber}_${i}`);
      const type = t.options[t.selectedIndex].text;
      const subY = maxValues[t.value];
      const subMax = ((potentialRatio * subY) / 2) * rarityMultiplier;
      subStats.push({ type, max: subMax });
    }

    return {
      mainStatType,
      mainMax: mainMax.toFixed(2),
      subStats
    };
  }

  function calculate() {
    const pet1 = calculatePet(1);
    const pet2 = calculatePet(2);

    const resultText1 = `
    Pet 1:<br>
    Main Stat (${pet1.mainStatType}): ${pet1.mainMax}%<br><br>
    Sub Stats:<br>
      1. ${pet1.subStats[0].type}: ${pet1.subStats[0].max.toFixed(2)}%<br>
      2. ${pet1.subStats[1].type}: ${pet1.subStats[1].max.toFixed(2)}%<br>
      3. ${pet1.subStats[2].type}: ${pet1.subStats[2].max.toFixed(2)}%<br>
    `;
        const resultText2 = `
    Pet 2:<br>
    Main Stat (${pet2.mainStatType}): ${pet2.mainMax}%<br><br>
    Sub Stats:<br>
      1. ${pet2.subStats[0].type}: ${pet2.subStats[0].max.toFixed(2)}%<br>
      2. ${pet2.subStats[1].type}: ${pet2.subStats[1].max.toFixed(2)}%<br>
      3. ${pet2.subStats[2].type}: ${pet2.subStats[2].max.toFixed(2)}%<br>
    `;
    document.getElementById("result1").innerHTML = resultText1;
    document.getElementById("result2").innerHTML = resultText2;

    document.getElementById("comparison-result1").style.display = "block";
    document.getElementById("comparison-result2").style.display = "block";
  }

  function resetForm() {
    document.querySelectorAll('input[type="number"]').forEach(input => input.value = '');
    document.querySelectorAll('select').forEach(select => select.selectedIndex = 0);
    document.getElementById("result1").textContent = '';
    document.getElementById("result2").textContent = '';
    document.getElementById("comparison-result1").style.display = "none";
    document.getElementById("comparison-result2").style.display = "none";
  }
</script>

</body>
</html>
